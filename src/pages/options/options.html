<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title data-i18n="settingsTitle">SourceSwitch Settings</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>SourceSwitch</h1>
      <p class="subtitle" data-i18n="subtitle">Domain filtering with alternatives</p>
    </header>

    <section class="section">
      <h2 data-i18n="presets">Presets</h2>
      <div id="presets-list" class="presets-list">
        <!-- Populated by JS -->
      </div>
    </section>

    <section class="section">
      <h2 data-i18n="options">Options</h2>

      <div class="option-row">
        <div class="option-info">
          <span class="option-label" data-i18n="strictMode">Strict mode</span>
          <span class="option-description" data-i18n="strictModeDesc">Block API endpoints used by third-party sites (may break some features)</span>
        </div>
        <label class="toggle">
          <input type="checkbox" id="strict-mode-toggle">
          <span class="slider"></span>
        </label>
      </div>

      <div class="option-row">
        <div class="option-info">
          <span class="option-label" data-i18n="globalLinkRewriting">Global link rewriting</span>
          <span class="option-description" data-i18n="globalLinkRewritingDesc">Rewrite links on all websites (requires additional permission)</span>
        </div>
        <label class="toggle">
          <input type="checkbox" id="global-rewrite-toggle">
          <span class="slider"></span>
        </label>
      </div>

      <div class="option-row">
        <div class="option-info">
          <span class="option-label" data-i18n="showNotifications">Show rewrite notifications</span>
          <span class="option-description" data-i18n="showNotificationsDesc">Display a banner when links are rewritten (transparency mode)</span>
        </div>
        <label class="toggle">
          <input type="checkbox" id="show-notifications-toggle">
          <span class="slider"></span>
        </label>
      </div>

      <div class="option-row">
        <div class="option-info">
          <span class="option-label" data-i18n="language">Language</span>
          <span class="option-description" data-i18n="languageDesc">Override extension display language</span>
        </div>
        <select id="language-select" class="select-input">
          <option value="system" data-i18n="systemDefault">System default</option>
          <option value="en" data-i18n="english">English</option>
          <option value="tr" data-i18n="turkish">Türkçe</option>
        </select>
      </div>
    </section>

    <section class="section">
      <h2 data-i18n="customBlockedDomains">Custom Blocked Domains</h2>
      <p class="section-description" data-i18n="customBlockedDomainsDesc">Add domains to block (navigation will be redirected to block page)</p>
      <div class="add-form">
        <input type="text" id="add-domain-input" placeholder="example.com" class="text-input">
        <button id="add-domain-btn" class="btn btn-primary" data-i18n="addDomain">Add Domain</button>
      </div>
      <div id="custom-domains-list" class="list-container">
        <p class="empty-state" data-i18n="noCustomDomains">No custom domains added</p>
      </div>
    </section>

    <section class="section">
      <h2 data-i18n="customBlockedApis">Custom Blocked APIs</h2>
      <p class="section-description" data-i18n="customBlockedApisDesc">Add API endpoints to block (requires Strict Mode enabled)</p>
      <div class="add-form">
        <input type="text" id="add-api-input" placeholder="api.example.com/v1" class="text-input">
        <button id="add-api-btn" class="btn btn-primary" data-i18n="addApi">Add API</button>
      </div>
      <div id="custom-apis-list" class="list-container">
        <p class="empty-state" data-i18n="noCustomApis">No custom APIs added</p>
      </div>
    </section>

    <section class="section">
      <h2 data-i18n="rewriteExceptions">Rewrite Exceptions</h2>
      <p class="section-description" data-i18n="rewriteExceptionsDesc">Sites where link rewriting is disabled</p>
      <div class="add-form">
        <input type="text" id="add-exception-input" placeholder="twitter.com" class="text-input">
        <button id="add-exception-btn" class="btn btn-primary" data-i18n="addException">Add Exception</button>
      </div>
      <div id="rewrite-exceptions-list" class="list-container">
        <p class="empty-state" data-i18n="noExceptions">No exceptions added</p>
      </div>
    </section>

    <section class="section">
      <h2 data-i18n="allowlist">Allowlist</h2>
      <div id="allowlist" class="allowlist">
        <p class="empty-state" data-i18n="noSitesBypassed">No sites currently bypassed</p>
      </div>
    </section>

    <section class="section">
      <h2 data-i18n="statistics">Statistics</h2>
      <div class="stats-grid">
        <div class="stat-card">
          <span class="stat-value" id="stat-blocked">0</span>
          <span class="stat-label" data-i18n="blockedSevenDays">Blocked (7 days)</span>
        </div>
        <div class="stat-card">
          <span class="stat-value" id="stat-bypassed">0</span>
          <span class="stat-label" data-i18n="bypassedSevenDays">Bypassed (7 days)</span>
        </div>
        <div class="stat-card">
          <span class="stat-value" id="stat-rewritten">0</span>
          <span class="stat-label" data-i18n="linksRewrittenSevenDays">Links rewritten (7 days)</span>
        </div>
      </div>
    </section>

    <section class="section">
      <h2 data-i18n="data">Data</h2>
      <div class="button-row">
        <button id="export-btn" class="btn btn-secondary" data-i18n="exportData">Export data</button>
        <button id="import-btn" class="btn btn-secondary" data-i18n="importData">Import data</button>
        <button id="clear-btn" class="btn btn-danger" data-i18n="clearHistory">Clear history</button>
      </div>
      <input type="file" id="import-file" accept=".json" hidden>
    </section>

    <footer>
      <p><span data-i18n="version">Version</span> 0.1.0</p>
    </footer>
  </div>

  <script type="module" src="options.js"></script>
</body>
</html>
