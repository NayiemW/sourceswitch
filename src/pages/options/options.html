<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SourceSwitch Settings</title>
  <link rel="stylesheet" href="options.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>SourceSwitch</h1>
      <p class="subtitle">Domain filtering with alternatives</p>
    </header>

    <section class="section">
      <h2>Presets</h2>
      <div id="presets-list" class="presets-list">
        <!-- Populated by JS -->
      </div>
    </section>

    <section class="section">
      <h2>Options</h2>

      <div class="option-row">
        <div class="option-info">
          <span class="option-label">Strict mode</span>
          <span class="option-description">Block API endpoints used by third-party sites (may break some features)</span>
        </div>
        <label class="toggle">
          <input type="checkbox" id="strict-mode-toggle">
          <span class="slider"></span>
        </label>
      </div>

      <div class="option-row">
        <div class="option-info">
          <span class="option-label">Global link rewriting</span>
          <span class="option-description">Rewrite links on all websites (requires additional permission)</span>
        </div>
        <label class="toggle">
          <input type="checkbox" id="global-rewrite-toggle">
          <span class="slider"></span>
        </label>
      </div>

      <div class="option-row">
        <div class="option-info">
          <span class="option-label">Show rewrite notifications</span>
          <span class="option-description">Display a banner when links are rewritten (transparency mode)</span>
        </div>
        <label class="toggle">
          <input type="checkbox" id="show-notifications-toggle">
          <span class="slider"></span>
        </label>
      </div>
    </section>

    <section class="section">
      <h2>Custom Blocked Domains</h2>
      <p class="section-description">Add domains to block (navigation will be redirected to block page)</p>
      <div class="add-form">
        <input type="text" id="add-domain-input" placeholder="example.com" class="text-input">
        <button id="add-domain-btn" class="btn btn-primary">Add Domain</button>
      </div>
      <div id="custom-domains-list" class="list-container">
        <p class="empty-state">No custom domains added</p>
      </div>
    </section>

    <section class="section">
      <h2>Custom Blocked APIs</h2>
      <p class="section-description">Add API endpoints to block (requires Strict Mode enabled)</p>
      <div class="add-form">
        <input type="text" id="add-api-input" placeholder="api.example.com/v1" class="text-input">
        <button id="add-api-btn" class="btn btn-primary">Add API</button>
      </div>
      <div id="custom-apis-list" class="list-container">
        <p class="empty-state">No custom APIs added</p>
      </div>
    </section>

    <section class="section">
      <h2>Rewrite Exceptions</h2>
      <p class="section-description">Sites where link rewriting is disabled</p>
      <div class="add-form">
        <input type="text" id="add-exception-input" placeholder="twitter.com" class="text-input">
        <button id="add-exception-btn" class="btn btn-primary">Add Exception</button>
      </div>
      <div id="rewrite-exceptions-list" class="list-container">
        <p class="empty-state">No exceptions added</p>
      </div>
    </section>

    <section class="section">
      <h2>Allowlist</h2>
      <div id="allowlist" class="allowlist">
        <p class="empty-state">No sites currently bypassed</p>
      </div>
    </section>

    <section class="section">
      <h2>Statistics</h2>
      <div class="stats-grid">
        <div class="stat-card">
          <span class="stat-value" id="stat-blocked">0</span>
          <span class="stat-label">Blocked (7 days)</span>
        </div>
        <div class="stat-card">
          <span class="stat-value" id="stat-bypassed">0</span>
          <span class="stat-label">Bypassed (7 days)</span>
        </div>
        <div class="stat-card">
          <span class="stat-value" id="stat-rewritten">0</span>
          <span class="stat-label">Links rewritten (7 days)</span>
        </div>
      </div>
    </section>

    <section class="section">
      <h2>Data</h2>
      <div class="button-row">
        <button id="export-btn" class="btn btn-secondary">Export data</button>
        <button id="import-btn" class="btn btn-secondary">Import data</button>
        <button id="clear-btn" class="btn btn-danger">Clear history</button>
      </div>
      <input type="file" id="import-file" accept=".json" hidden>
    </section>

    <footer>
      <p>Version 0.1.0</p>
    </footer>
  </div>

  <script type="module" src="options.js"></script>
</body>
</html>
